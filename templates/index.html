<!DOCTYPE html>
<html>
<head>
    <title>Mindys Golden Tickets</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
      .ticket {
        font-size: 4rem;
        display: inline-block;
        transform: scale(1.5);
        transition: transform 0.3s ease;
      }
      .ticket:hover {
        transform: scale(1.8);
      }
      .ticket.used {
        animation: ticketGlow 1s infinite alternate;
      }
      @keyframes ticketGlow {
        0% { text-shadow: 0 0 10px gold; }
        100% { text-shadow: 0 0 30px gold; }
      }
      .ticket-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        margin: 2rem 0;
      }
    </style>
</head>
<body>
    <h1>Mindys Golden Tickets</h1>
    <div class="header-image">
      <img src="{{ url_for('static', filename='images/my_pic.png') }}"
           alt="My Picture"
           style="max-width:100%; height:auto; margin-bottom:1rem;">
    </div>

    {% if not has_key %}
        <form method="post">
            <input type="password" name="key" placeholder="Enter secret key">
            <button type="submit">Unlock</button>
        </form>
    {% endif %}

    <div class="ticket-container">
        {% for ticket in tickets %}
            {% if ticket %}
                {% if has_key %}
                    <a href="{{ url_for('use_ticket', ticket_id=loop.index0) }}" class="ticket">🎟️</a>
                {% else %}
                    <span class="ticket">🎟️</span>
                {% endif %}
            {% else %}
                <span class="ticket used">❌</span>
            {% endif %}
        {% endfor %}
    </div>

    <p>{{ tickets | select('equalto', true) | list | length }} tickets remaining.</p>
</body>
</html>